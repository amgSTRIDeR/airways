"use strict";(self.webpackChunkairways=self.webpackChunkairways||[]).push([[277],{6277:(ke,U,c)=>{c.r(U),c.d(U,{BookingPageModule:()=>Ze});var T=c(6806),d=c(9611),t=c(4650),b=c(9653),s=c(6895);const f=10,E=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var h=c(8335),M=c(4859),F=c(263),p=c(3546),Z=c(7392);function $(n,o){if(1&n&&t._UZ(0,"mat-icon",1),2&n){const e=t.oxw();t.Q6J("fontIcon",e.icon)}}let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-icon-label"]],inputs:{icon:"icon",logo:"logo"},decls:3,vars:2,consts:[["color","primary","aria-hidden","false","aria-label","Example home icon",3,"fontIcon",4,"ngIf"],["color","primary","aria-hidden","false","aria-label","Example home icon",3,"fontIcon"]],template:function(e,i){1&e&&(t.YNc(0,$,1,1,"mat-icon",0),t.TgZ(1,"mat-card-title"),t._uU(2),t.qZA()),2&e&&(t.Q6J("ngIf",!!i.icon),t.xp6(2),t.Oqu(i.logo))},dependencies:[s.O5,p.n5,Z.Hw],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;gap:1rem;justify-content:center;align-items:center}"]}),n})(),S=(()=>{class n{constructor(e){this.el=e}ngOnChanges(){this.setBackground()}setBackground(){this.el.nativeElement.classList.add(this.getBackgroundColor()+(this.isTransparent?"-transparent":""))}getBackgroundColor(){return this.seats?.avaible?this.seats?.avaible<10?"seats-red-bg":this.seats?.avaible/this.seats?.total<.5?"seats-yellow-bg":"seats-green-bg":"seats-red-bg"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","appSeats",""]],inputs:{seats:"seats",isTransparent:"isTransparent"},features:[t.TTD]}),n})();function z(n,o){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(t.gM2(2,1,e.price,e.chosenCurrency,"symbol-narrow","1.2-2"))}}function W(n,o){1&n&&(t.TgZ(0,"div",7),t.O4$(),t.TgZ(1,"svg",8),t._UZ(2,"path",9),t.qZA()())}const H=function(n,o,e){return{"inactive-card":n,"active-card":o,"disabled-card":e}};let G=(()=>{class n{constructor(){this.chosenCurrency="EUR",this.activeIndex=0,this.price=0}ngOnChanges(){this.price=this.flightInfo.price?this.flightInfo.price[this.chosenCurrency.toLowerCase()]:null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-alternative-flight-card"]],inputs:{flightInfo:"flightInfo",chosenCurrency:"chosenCurrency",activeIndex:"activeIndex"},features:[t.TTD],decls:11,vars:16,consts:[[1,"card-container","flex","flex-column","justify-between","item-center","bg-white","self-end",3,"ngClass"],[1,"date","alternative-flight-color-secondary","f-w-700"],[1,"dayOfWeek","ticket-secondary","f-w-100"],["class","price text-primary f-w-700",4,"ngIf","ngIfElse"],["appSeats","",1,"seats-available","w-full",3,"seats"],["disabled",""],[1,"price","text-primary","f-w-700"],[1,"disabled-icon","price","flex","item-center","text-primary","f-w-700"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12 3C7.0125 3 3 7.0125 3 12C3 16.9875 7.0125 21 12 21C16.9875 21 21 16.9875 21 12C21 7.0125 16.9875 3 12 3ZM4.125 12C4.125 7.65 7.65 4.125 12 4.125C13.95 4.125 15.75 4.8375 17.1375 6.0375L13.425 9.7125L12.1875 7.35C12.1125 7.2 12.075 7.0875 11.925 7.0875H11.4C11.0625 7.0875 11.1 7.1625 11.1375 7.35L11.8875 10.6875V11.25L11.3625 11.2875C10.725 11.2875 9.975 11.4 9.375 11.5875L8.5125 10.275C8.3625 10.05 8.4 10.0125 8.25 10.0125C7.9125 10.0125 7.95 10.05 7.9875 10.275L8.25 11.85C8.25 11.8875 8.25 11.925 8.2875 11.9625C8.25 12 8.2125 12 8.2125 12.0375C8.2125 12.075 8.25 12.1125 8.325 12.15C8.25 12.1875 8.2125 12.2625 8.2125 12.375L7.95 13.95C7.9125 14.175 7.875 14.2125 8.2125 14.2125C8.3625 14.2125 8.325 14.175 8.475 13.95L9.4125 12.5625C9.7125 12.6375 10.0125 12.7125 10.35 12.7875L6 17.1C4.8375 15.7125 4.125 13.95 4.125 12ZM12 19.875C10.0125 19.875 8.175 19.125 6.7875 17.8875L11.8125 12.9H11.8875V13.4625L11.0625 16.8C11.025 16.9875 10.9875 17.0625 11.325 17.0625H11.85C12 17.0625 12.0375 16.95 12.1125 16.8L14.1375 13.125L15.15 13.2H15.3C15.8625 13.2 17.4 12.75 17.4 12.1875C17.4 11.625 15.9 11.1375 15.3 11.1H15.15L14.1375 11.1375L13.95 10.7625L17.925 6.825C19.125 8.2125 19.875 10.0125 19.875 12C19.875 16.35 16.35 19.875 12 19.875Z","fill","#D0D9DF"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"span",2),t._uU(5),t.ALo(6,"date"),t.qZA(),t.YNc(7,z,3,6,"span",3),t._UZ(8,"div",4),t.qZA(),t.YNc(9,W,3,0,"ng-template",null,5,t.W1O)),2&e){const a=t.MAs(10);t.Q6J("ngClass",t.kEZ(12,H,i.activeIndex!==i.flightInfo.index,i.activeIndex===i.flightInfo.index,!i.price)),t.xp6(2),t.Oqu(t.xi3(3,6,i.flightInfo.takeoffDate,"d MMM")),t.xp6(3),t.Oqu(t.xi3(6,9,i.flightInfo.takeoffDate,"EEEE")),t.xp6(2),t.Q6J("ngIf",i.price)("ngIfElse",a),t.xp6(1),t.Q6J("seats",i.flightInfo.seats)}},dependencies:[s.mk,s.O5,S,s.H9,s.uU],styles:[".card-container[_ngcontent-%COMP%]{padding-top:5px;width:100%;box-sizing:border-box}.card-container[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;line-height:20px;letter-spacing:.1px}@media (max-width: 1100px){.card-container[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:14px;line-height:16px}}@media (max-width: 390px){.card-container[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:12px;line-height:14px}}.card-container[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{font-family:Roboto;font-size:12px;line-height:12px}@media (max-width: 1100px){.card-container[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{font-weight:300;font-size:12px;line-height:16px}}@media (max-width: 660px){.card-container[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{font-weight:200;font-size:10px;line-height:12px}}@media (max-width: 390px){.card-container[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{display:none}}.card-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-family:Roboto;font-size:20px;line-height:20px}@media (max-width: 1100px){.card-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:20px;line-height:24px}}@media (max-width: 900px){.card-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;line-height:20px}}@media (max-width: 660px){.card-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:14px;line-height:16px}}@media (max-width: 500px){.card-container[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:none}}.inactive-card[_ngcontent-%COMP%]{padding-bottom:10px;height:90%}.inactive-card[_ngcontent-%COMP%]   .seats-available[_ngcontent-%COMP%]{display:none}.active-card[_ngcontent-%COMP%]{height:100%}.active-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:20px;line-height:20px}@media (max-width: 1100px){.active-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:16px;line-height:18px}}@media (max-width: 390px){.active-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:14px;line-height:16px}}.active-card[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px;letter-spacing:.25px}@media (max-width: 1100px){.active-card[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{font-weight:300;font-size:14px;line-height:20px}}@media (max-width: 660px){.active-card[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{font-weight:200;font-size:12px;line-height:14px}}@media (max-width: 390px){.active-card[_ngcontent-%COMP%]   .dayOfWeek[_ngcontent-%COMP%]{display:none}}.active-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:30px;line-height:36px}@media (max-width: 1100px){.active-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:26px;line-height:30px}}@media (max-width: 900px){.active-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:24px;line-height:26px}}@media (max-width: 660px){.active-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:16px;line-height:20px}}@media (max-width: 500px){.active-card[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:none}}.active-card[_ngcontent-%COMP%]   .seats-available[_ngcontent-%COMP%]{height:4px}@media (max-width: 900px){.active-card[_ngcontent-%COMP%]   .seats-available[_ngcontent-%COMP%]{height:3px}}@media (max-width: 500px){.active-card[_ngcontent-%COMP%]   .seats-available[_ngcontent-%COMP%]{height:2px}}@media (max-width: 500px){.disabled-card[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#454a53}}"]}),n})(),X=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-arrow-button"]],decls:8,vars:0,consts:[["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_7244_3134)"],["width","24","height","24","rx","12","fill","#E9EDF1"],["d","M10.3024 12.0883L13.3738 9.01658C13.4633 8.92659 13.5135 8.80472 13.5133 8.67776C13.513 8.55079 13.4624 8.42911 13.3725 8.33946C13.2829 8.24942 13.1612 8.19867 13.0341 8.19837C12.9071 8.19807 12.7851 8.24824 12.6951 8.33786L9.29795 11.735C9.20871 11.8246 9.15857 11.946 9.15845 12.0724C9.15833 12.1989 9.20824 12.3204 9.29731 12.4102L9.29795 12.4108C9.30027 12.4132 9.30262 12.4155 9.30499 12.4179L12.7143 15.7887C12.9008 15.9753 13.1997 15.9788 13.3821 15.7967C13.5642 15.6143 13.5607 15.3158 13.3738 15.1289L10.3024 12.0883Z","fill","#1C1B1F"],["id","clip0_7244_3134"],["width","24","height","24","rx","12","fill","white"]],template:function(e,i){1&e&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",0)(2,"g",1),t._UZ(3,"rect",2)(4,"path",3),t.qZA(),t.TgZ(5,"defs")(6,"clipPath",4),t._UZ(7,"rect",5),t.qZA()()()())}}),n})();const V=function(n){return{"flex-order-1":n}};let K=(()=>{class n{constructor(){this.isDateFrom=!0}ngOnChanges(){this.flightDate=this.isDateFrom?this.flightInfo?.takeoffDate:this.flightInfo?.landingDate,this.flightGmt=this.isDateFrom?this.flightInfo?.form.gmt:this.flightInfo?.to.gmt,this.flightCity=this.isDateFrom?this.flightInfo?.form.city:this.flightInfo?.to.city}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-date-on-ticket"]],inputs:{flightInfo:"flightInfo",isDateFrom:"isDateFrom"},features:[t.TTD],decls:19,vars:22,consts:[[1,"date","ticket-secondary","f-w-400"],[1,"date","date-short","ticket-secondary","f-w-400"],[1,"date","date-extrashort","ticket-secondary","f-w-400"],[1,"time-container","time-from-container","flex","item-center","gap-1"],[1,"flight-time","text-black","f-w-700",3,"ngClass"],[1,"flight-time-utc","ticket-secondary","f-w-400"],[1,"city","city-from","ticket-secondary","f-w-400"],[1,"flight-time-utc","flight-time-utc-small","ticket-secondary","f-w-400"]],template:function(e,i){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.ALo(2,"date"),t.qZA(),t.TgZ(3,"span",1),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"span",2),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div",3)(10,"span",4),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"span",5),t._uU(14),t.qZA()(),t.TgZ(15,"span",6),t._uU(16),t.qZA(),t.TgZ(17,"span",7),t._uU(18),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.xi3(2,8,i.flightDate,"EEE, d MMM yyyy")),t.xp6(3),t.Oqu(t.xi3(5,11,i.flightDate,"MMM d, y")),t.xp6(3),t.Oqu(t.xi3(8,14,i.flightDate,"MMM d")),t.xp6(3),t.Q6J("ngClass",t.VKq(20,V,!i.isDateFrom)),t.xp6(1),t.Oqu(t.xi3(12,17,i.flightDate,"H:mm")),t.xp6(3),t.hij("UTC ",i.flightGmt,""),t.xp6(2),t.Oqu(i.flightCity),t.xp6(2),t.hij("U",i.flightGmt,""))},dependencies:[s.mk,s.uU],styles:[".date[_ngcontent-%COMP%]{font-family:Roboto;font-size:16px;line-height:16px;letter-spacing:.5px}@media (max-width: 1100px){.date[_ngcontent-%COMP%]{display:none}}.date-short[_ngcontent-%COMP%]{display:none}@media (max-width: 1100px){.date-short[_ngcontent-%COMP%]{display:block}}@media (max-width: 1000px){.date-short[_ngcontent-%COMP%]{font-size:14px;line-height:14px}}@media (max-width: 570px){.date-short[_ngcontent-%COMP%]{font-size:12px;line-height:12px}}@media (max-width: 500px){.date-short[_ngcontent-%COMP%]{display:none}}.date-extrashort[_ngcontent-%COMP%]{display:none}@media (max-width: 500px){.date-extrashort[_ngcontent-%COMP%]{display:block}}.time-container[_ngcontent-%COMP%]   .flight-time[_ngcontent-%COMP%]{font-family:Roboto;font-size:30px;line-height:36px}@media (max-width: 1000px){.time-container[_ngcontent-%COMP%]   .flight-time[_ngcontent-%COMP%]{font-size:26px;line-height:30px}}@media (max-width: 570px){.time-container[_ngcontent-%COMP%]   .flight-time[_ngcontent-%COMP%]{font-size:20px;line-height:24px}}.time-container[_ngcontent-%COMP%]   .flight-time-utc[_ngcontent-%COMP%]{font-family:Roboto;font-size:8px;line-height:20px}@media (max-width: 1100px){.time-container[_ngcontent-%COMP%]   .flight-time-utc[_ngcontent-%COMP%]{display:none}}.city[_ngcontent-%COMP%]{font-family:Roboto;font-size:12px;line-height:16px;letter-spacing:.4px}@media (max-width: 1000px){.city[_ngcontent-%COMP%]{font-size:10px;line-height:14px}}@media (max-width: 570px){.city[_ngcontent-%COMP%]{font-size:9px;line-height:12px}}.flight-time-utc-small[_ngcontent-%COMP%]{display:none}@media (max-width: 1100px){.flight-time-utc-small[_ngcontent-%COMP%]{display:block;font-family:Roboto;font-size:10px}}@media (max-width: 570px){.flight-time-utc-small[_ngcontent-%COMP%]{font-size:9px}}"]}),n})(),tt=(()=>{class n{transform(e){if(!e)return"0m";const i=Math.floor(e/60);return 0===i?`${e}m`:`${i}h ${e-60*i}m`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"minutesToHours",type:n,pure:!0}),n})();const et=function(n){return{"carousel-hidden":n}};function nt(n,o){if(1&n&&t._UZ(0,"app-alternative-flight-card",14),2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(4,et,!i.showAlternativeFlight(e.index)))("activeIndex",i.activeIndex)("flightInfo",e)("chosenCurrency",i.chosenCurrency)}}function it(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.YNc(1,nt,1,6,"app-alternative-flight-card",11),t.TgZ(2,"app-arrow-button",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.decreaseActiveIndex())}),t.qZA(),t.TgZ(3,"app-arrow-button",13),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.increaseActiveIndex())}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.alternativeFlights)}}function ot(n,o){1&n&&t._UZ(0,"div",39)}function at(n,o){if(1&n&&(t.TgZ(0,"div",40)(1,"span",41),t._uU(2),t._UZ(3,"br"),t._uU(4,"available"),t.qZA()()),2&n){const e=t.oxw(2);t.Q6J("seats",null==e.activeFlight?null:e.activeFlight.seats)("isTransparent",!0),t.xp6(2),t.hij("",null==e.activeFlight||null==e.activeFlight.seats?null:e.activeFlight.seats.avaible," seats")}}function st(n,o){1&n&&(t.TgZ(0,"span",42),t._uU(1,"Price"),t.qZA())}function rt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectFlight())}),t._uU(1," Select "),t.qZA()}}const q=function(n){return{"icon-container":n}},ct=function(n){return{"self-center":n}};function lt(n,o){if(1&n&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"app-date-on-ticket",17),t.TgZ(3,"div",18)(4,"div",19),t._uU(5),t.ALo(6,"minutesToHours"),t.qZA(),t._UZ(7,"div",20),t.TgZ(8,"div",21),t.O4$(),t.TgZ(9,"svg",22),t._UZ(10,"path",23),t.qZA()(),t.kcU(),t.TgZ(11,"span",24),t._uU(12,"Direct"),t.qZA(),t.TgZ(13,"span",25),t._uU(14),t.qZA()(),t._UZ(15,"app-date-on-ticket",26),t.TgZ(16,"div",27)(17,"span",28),t._uU(18,"Flight no."),t.qZA(),t.TgZ(19,"span",29),t._uU(20),t.qZA()()(),t.YNc(21,ot,1,0,"div",30),t.TgZ(22,"div",31)(23,"div",32),t.YNc(24,at,5,3,"div",33),t.TgZ(25,"div",34),t.YNc(26,st,2,0,"span",35),t.TgZ(27,"span",36),t._uU(28),t.ALo(29,"currency"),t.qZA()()(),t.TgZ(30,"div",37),t.YNc(31,rt,2,0,"button",38),t.qZA()()()),2&n){const e=t.oxw(),i=t.MAs(11);t.xp6(2),t.Q6J("flightInfo",e.activeFlight)("isDateFrom",!0),t.xp6(3),t.hij(" ",t.lcZ(6,15,null==e.activeFlight?null:e.activeFlight.timeMins)," "),t.xp6(4),t.Q6J("ngClass",t.VKq(22,q,e.isBackFlight)),t.xp6(5),t.Oqu(null==e.activeFlight?null:e.activeFlight.flightNumber),t.xp6(1),t.Q6J("flightInfo",e.activeFlight)("isDateFrom",!1),t.xp6(5),t.Oqu(null==e.activeFlight?null:e.activeFlight.flightNumber),t.xp6(1),t.Q6J("ngIf",!e.isFlightSelected),t.xp6(3),t.Q6J("ngIf",!e.isFlightSelected),t.xp6(2),t.Q6J("ngIf",!e.isFlightSelected),t.xp6(1),t.Q6J("ngClass",t.VKq(24,ct,e.isFlightSelected)),t.xp6(1),t.Oqu(t.gM2(29,17,e.price,e.chosenCurrency,"symbol-narrow","1.2-2")),t.xp6(3),t.Q6J("ngIf",!e.isFlightSelected)("ngIfElse",i)}}function gt(n,o){if(1&n&&(t.TgZ(0,"div",44)(1,"span",45),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.getNoTicketsMessage())}}function pt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.editFlight())}),t._uU(1," Edit "),t.qZA()}}let dt=(()=>{class n{constructor(e){this.store=e,this.isBackFlight=!1,this.flightTitle="",this.chosenCurrency="EUR",this.price=0,this.alternativeFlights=[],this.activeIndex=0,this.isFlightSelected=!1,this.selectedFlightCounterValue=0,this.currencyInfo$=this.store.select(F.u.CurrencySelector),this.alternativeFlightOnScreen=5,this.selectedFlightCounter$=this.store.select(d.g.selectedFlightCounterSelector)}ngOnInit(){this.selectedFlight$=this.store.select(this.isBackFlight?d.g.selectBackFlightSelector:d.g.selectForwardFlightSelector),this.currencyInfo$.subscribe(e=>{this.chosenCurrency=e,this.updateActiveFlight()}),this.selectedFlightCounter$.subscribe(e=>this.selectedFlightCounterValue=e.value),this.selectedFlight$.subscribe(e=>{e&&(this.activeFlight=e,this.isFlightSelected=!0)})}ngOnChanges(){this.flightTitle=`${this.flightInfo?.form.city} to ${this.flightInfo?.to.city}`,this.updateActiveFlight(),this.getAlternativeFlightsArray()}increaseActiveIndex(){this.activeIndex<this.alternativeFlightOnScreen&&(this.activeIndex++,this.updateActiveFlight()),this.getNoTicketsMessage()}decreaseActiveIndex(){this.activeIndex>-this.alternativeFlightOnScreen&&(this.activeIndex--,this.updateActiveFlight()),this.getNoTicketsMessage()}selectFlight(){this.isFlightSelected=!0,this.store.dispatch(h.j.SelectedFlightCounter({value:this.selectedFlightCounterValue+1})),this.isBackFlight&&this.store.dispatch(h.j.SelectBackFlight(this.activeFlight)),this.isBackFlight||this.store.dispatch(h.j.SelectForwardFlight(this.activeFlight))}editFlight(){this.isFlightSelected=!1,this.store.dispatch(h.j.SelectedFlightCounter({value:this.selectedFlightCounterValue-1}))}updateActiveFlight(){this.activeFlight=this.isFlightSelected||0!==this.activeIndex?this.flightInfo?.otherFlights[this.activeIndex.toString()]:this.flightInfo,this.price=this.activeFlight?.price[this.chosenCurrency.toLowerCase()]||0}showAlternativeFlight(e){return Math.abs(this.activeIndex-e)<=this.alternativeFlightOnScreen/2||this.activeIndex>=this.alternativeFlightOnScreen/2&&e>0||this.activeIndex<=-this.alternativeFlightOnScreen/2&&e<0}getAlternativeFlightsArray(){this.alternativeFlights=[];for(let e=-this.alternativeFlightOnScreen;e<=this.alternativeFlightOnScreen;e++){const i=0===e?this.flightInfo:this.flightInfo?.otherFlights[e.toString()];this.alternativeFlights.push({index:e,takeoffDate:i?.takeoffDate||this.addDays(new Date(this.flightInfo?.takeoffDate),e),price:i?.price,seats:i?.seats})}}addDays(e,i){return e.setDate(e.getDate()+i),e.toString()}getNoTicketsMessage(){const e=(new Date).getTime();return new Date(this.addDays(new Date(this.flightInfo.takeoffDate),this.activeIndex)).getTime()<e?"You can't buy tickets in the past":"Tickets don't exist on this date"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-flight-details"]],inputs:{flightInfo:"flightInfo",isBackFlight:"isBackFlight"},features:[t.TTD],decls:12,vars:7,consts:[[1,"title-container","flex","item-center","gap-1"],[1,"flex","flex-column","justify-center",3,"ngClass"],["width","20","height","20","viewBox","0 0 20 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6 6.11959e-07L8 5.24537e-07L13 8.5L18.5 8.5C19.33 8.5 20 9.17 20 10C20 10.83 19.33 11.5 18.5 11.5L13 11.5L8 20L6 20L8.5 11.5L3 11.5L1.5 14L-2.62268e-07 14L1 10L-6.11959e-07 6L1.5 6L3 8.5L8.5 8.5L6 6.11959e-07Z","fill","#11397E"],[3,"logo"],["class","date-slider-container flex justify-between item-stretch",4,"ngIf"],[1,"ticket-container","flex","justify-center","w-full","bg-white"],["class","ticket-details-container w-full flex item-stretch justify-between",4,"ngIf","ngIfElse"],["noTicket",""],["buttonEdit",""],[1,"date-slider-container","flex","justify-between","item-stretch"],["class","alternative-flight-card flex w-full",3,"ngClass","activeIndex","flightInfo","chosenCurrency",4,"ngFor","ngForOf"],[1,"arrow","arrow-left",3,"click"],[1,"arrow","arrow-right",3,"click"],[1,"alternative-flight-card","flex","w-full",3,"ngClass","activeIndex","flightInfo","chosenCurrency"],[1,"ticket-details-container","w-full","flex","item-stretch","justify-between"],[1,"main-info","w-full","flex","item-center","justify-between","item-stretch"],[1,"time-info","time-info-from","flex","flex-column","gap-half",3,"flightInfo","isDateFrom"],[1,"flight-duration-container","flex","flex-column","justify-between","flex-grow"],[1,"flight-duration","flight-duration-text","self-center","text-black","f-w-400"],[1,"flight-duration-line","line-solid"],[1,"flight-direction-icon","bg-white"],["width","25","height","12","viewBox","0 0 25 12","fill","none","xmlns","http://www.w3.org/2000/svg",3,"ngClass"],["d","M23.6618 1.76214C22.0114 0.880553 20.136 1.34885 18.8536 1.89689L15.0309 3.53057L8.45626 0.5L4.54087 0.654168L9.96998 5.69839L6.51 7.2047L2.9102 5.94913L0.5 6.97909L2.67816 9.45796C2.44803 9.70956 2.2395 10.0638 2.42882 10.4359C2.67608 10.9218 3.40691 11.1667 4.60569 11.1667C4.85152 11.1667 5.11706 11.1564 5.40207 11.1357C6.71799 11.0405 8.14467 10.7326 9.03675 10.3514L22.7016 4.51163C23.8818 4.0072 24.4697 3.47755 24.4989 2.8923C24.514 2.58876 24.3811 2.14618 23.6618 1.76214Z","fill","#0090BD"],[1,"direction-label","flight-duration-text","self-center","text-black","f-w-400"],[1,"direction-label","direction-label-small","flight-duration-text","self-center","text-black","f-w-400"],[1,"time-info","time-info-from","flex","flex-column","gap-half","item-end",3,"flightInfo","isDateFrom"],[1,"flight-number-container","flex","justify-end","item-center"],[1,"flight-number-label","ticket-secondary","f-w-400"],[1,"flight-number","text-black","f-w-400"],["class","ticket-line line-dashed",4,"ngIf"],[1,"additional-info-container","flex","item-center","item-stretch","gap-1","self-center"],[1,"additional-info","w-half","flex","flex-column","justify-between"],["appSeats","","class","seats-container",3,"seats","isTransparent",4,"ngIf"],[1,"price-container","flex","flex-column"],["class","price-label ticket-secondary f-w-700",4,"ngIf"],[1,"price-amount","text-primary","f-w-700",3,"ngClass"],[1,"button-container","w-half","flex","justify-center"],["class","select-button self-center text-white bg-gradient-primary",3,"click",4,"ngIf","ngIfElse"],[1,"ticket-line","line-dashed"],["appSeats","",1,"seats-container",3,"seats","isTransparent"],[1,"seats-count","seats-secondary","f-w-700"],[1,"price-label","ticket-secondary","f-w-700"],[1,"select-button","self-center","text-white","bg-gradient-primary",3,"click"],[1,"ticket-not-exist","self-center"],[1,"ticket-secondary","f-w-400"],[1,"button-edit","self-center","text-primary","f-w-500",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.O4$(),t.TgZ(2,"svg",2),t._UZ(3,"path",3),t.qZA()(),t.kcU(),t._UZ(4,"app-icon-label",4),t.qZA(),t.YNc(5,it,4,1,"div",5),t.TgZ(6,"div",6),t.YNc(7,lt,32,26,"div",7),t.qZA(),t.YNc(8,gt,3,1,"ng-template",null,8,t.W1O),t.YNc(10,pt,2,0,"ng-template",null,9,t.W1O)),2&e){const a=t.MAs(9);t.xp6(1),t.Q6J("ngClass",t.VKq(5,q,i.isBackFlight)),t.xp6(3),t.Q6J("logo",i.flightTitle),t.xp6(1),t.Q6J("ngIf",!i.isFlightSelected),t.xp6(2),t.Q6J("ngIf",0!==i.price)("ngIfElse",a)}},dependencies:[s.mk,s.sg,s.O5,I,S,G,X,K,s.H9,tt],styles:[".title-container[_ngcontent-%COMP%]{margin-bottom:10px}.icon-container[_ngcontent-%COMP%]{transform:scaleX(-1)}.date-slider-container[_ngcontent-%COMP%]{margin-bottom:10px;width:100%;height:85px;position:relative;gap:2px}@media (max-width: 900px){.date-slider-container[_ngcontent-%COMP%]{height:75px}}@media (max-width: 500px){.date-slider-container[_ngcontent-%COMP%]{padding:0 10px;height:50px;box-sizing:border-box}}@media (max-width: 390px){.date-slider-container[_ngcontent-%COMP%]{padding:0 20px;height:30px}}.date-slider-container[_ngcontent-%COMP%]   .carousel-hidden[_ngcontent-%COMP%]{display:none}.date-slider-container[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{position:absolute;top:50%;cursor:pointer}.date-slider-container[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover{opacity:.5}.date-slider-container[_ngcontent-%COMP%]   .arrow-left[_ngcontent-%COMP%]{left:0;transform:translate(-50%,-20%)}@media (max-width: 500px){.date-slider-container[_ngcontent-%COMP%]   .arrow-left[_ngcontent-%COMP%]{transform:translateY(-30%)}}@media (max-width: 390px){.date-slider-container[_ngcontent-%COMP%]   .arrow-left[_ngcontent-%COMP%]{transform:translateY(-35%)}}.date-slider-container[_ngcontent-%COMP%]   .arrow-right[_ngcontent-%COMP%]{right:0;transform:scaleX(-1) translate(-50%,-20%)}@media (max-width: 500px){.date-slider-container[_ngcontent-%COMP%]   .arrow-right[_ngcontent-%COMP%]{transform:scaleX(-1) translateY(-30%)}}@media (max-width: 390px){.date-slider-container[_ngcontent-%COMP%]   .arrow-right[_ngcontent-%COMP%]{transform:scaleX(-1) translateY(-35%)}}.ticket-container[_ngcontent-%COMP%]{margin-bottom:32px;min-height:130px}@media (max-width: 870px){.ticket-container[_ngcontent-%COMP%]   .ticket-details-container[_ngcontent-%COMP%]{flex-direction:column}}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{padding:27px 41px;box-sizing:border-box}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%]{width:20%}@media (max-width: 500px){.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]{padding:20px 25px}}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-duration-container[_ngcontent-%COMP%]{position:relative}@media (max-width: 1000px){.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-duration-container[_ngcontent-%COMP%]   .direction-label[_ngcontent-%COMP%]{display:none}}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-duration-container[_ngcontent-%COMP%]   .direction-label-small[_ngcontent-%COMP%]{display:none}@media (max-width: 1000px){.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-duration-container[_ngcontent-%COMP%]   .direction-label-small[_ngcontent-%COMP%]{display:block}}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-duration-container[_ngcontent-%COMP%]   .flight-duration-text[_ngcontent-%COMP%]{font-family:Roboto;font-size:12px;line-height:16px;letter-spacing:.4px}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-duration-container[_ngcontent-%COMP%]   .flight-direction-icon[_ngcontent-%COMP%]{width:45px;height:24px;box-sizing:border-box;padding:6px 10px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-number-container[_ngcontent-%COMP%]{margin-left:20px;width:20%}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-number-container[_ngcontent-%COMP%]   .flight-number-label[_ngcontent-%COMP%]{font-family:Roboto;font-size:14px;line-height:20px;letter-spacing:.25px}.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-number-container[_ngcontent-%COMP%]   .flight-number[_ngcontent-%COMP%]{margin-left:12px;font-family:Roboto;font-size:14px;line-height:20px;letter-spacing:.25px}@media (max-width: 1000px){.ticket-container[_ngcontent-%COMP%]   .main-info[_ngcontent-%COMP%]   .flight-number-container[_ngcontent-%COMP%]{display:none}}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]{padding:16px 40px;width:27%}@media (max-width: 870px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]{padding:16px 41px;width:100%;flex-direction:column;box-sizing:border-box}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .additional-info[_ngcontent-%COMP%]{width:100%;flex-direction:row;justify-content:space-between}}@media (max-width: 500px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]{padding:20px 25px}}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .seats-container[_ngcontent-%COMP%]{font-family:Roboto;font-size:12px;line-height:16px;text-align:right}@media (max-width: 870px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .seats-container[_ngcontent-%COMP%]{padding:10px 15px;text-align:left}}@media (max-width: 500px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .seats-container[_ngcontent-%COMP%]{font-size:10px;line-height:12px}}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-label[_ngcontent-%COMP%]{font-family:Roboto;font-size:12px;line-height:16px;text-align:right}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-family:Roboto;font-size:30px;line-height:36px;text-align:right}@media (max-width: 1100px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:26px;line-height:30px}}@media (max-width: 900px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:24px;line-height:26px}}@media (max-width: 660px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .price-container[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:16px;line-height:20px}}@media (max-width: 870px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;justify-content:end}}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{box-sizing:border-box;padding:8px 16px;width:78px;height:36px;border-radius:4px;cursor:pointer}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]:hover{opacity:.6}@media (max-width: 900px){.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .select-button[_ngcontent-%COMP%]{padding:4px 10px;width:60px;height:28px}}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-edit[_ngcontent-%COMP%]{padding:4px 8px;width:44px;height:28px;font-family:Roboto;font-size:16px;line-height:20px;background:#F4F6F9;border:none;border-radius:4px;cursor:pointer}.ticket-container[_ngcontent-%COMP%]   .additional-info-container[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button-edit[_ngcontent-%COMP%]:hover{opacity:.6}"]}),n})();function ft(n,o){if(1&n&&t._UZ(0,"app-booking-flight-details",4),2&n){const e=t.oxw(2);t.Q6J("isBackFlight",!0)("flightInfo",e.backFlightInfo)}}function ht(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t._UZ(1,"app-booking-flight-details",4),t.YNc(2,ft,1,2,"app-booking-flight-details",5),t.TgZ(3,"div",6)(4,"div",7)(5,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.backToMainPage())}),t._uU(6," Back "),t.qZA(),t.TgZ(7,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.logForm())}),t._uU(8," Continue "),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("isBackFlight",!1)("flightInfo",e.forwardFlightInfo),t.xp6(1),t.Q6J("ngIf",e.isTwoWays),t.xp6(5),t.Q6J("disabled",!e.checkAllFlightsSelected())}}function mt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"span",10),t._uU(1,"Choose your trip on the Main page!"),t.qZA(),t.TgZ(2,"div",11)(3,"div",7)(4,"button",8),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.backToMainPage())}),t._uU(5," Main page "),t.qZA()()()}}let ut=(()=>{class n{constructor(e,i){this.store=e,this.router=i,this.isTwoWays=!1,this.selectedForwardFlightInfo=null,this.selectedBackFlightInfo=null,this.selectedFlightCounterValue=0,this.flightsInfo$=this.store.select(d.g.AvailableFlightsSelector),this.selectedForwardFlightInfo$=this.store.select(d.g.selectForwardFlightSelector),this.selectedBackFlightInfo$=this.store.select(d.g.selectBackFlightSelector),this.selectedFlightCounter$=this.store.select(d.g.selectedFlightCounterSelector)}ngOnInit(){this.flightsInfo$.subscribe(e=>{e&&e?.length>0&&(this.isTwoWays=e.length>1,this.forwardFlightInfo=e[0],this.isTwoWays&&(this.backFlightInfo=e[1]))}),this.selectedForwardFlightInfo$.subscribe(e=>{e&&(this.selectedForwardFlightInfo=e)}),this.selectedBackFlightInfo$.subscribe(e=>{e&&(this.selectedBackFlightInfo=e)}),this.selectedFlightCounter$.subscribe(e=>this.selectedFlightCounterValue=e.value)}checkAllFlightsSelected(){return this.isTwoWays&&2===this.selectedFlightCounterValue||!this.isTwoWays&&1===this.selectedFlightCounterValue}logForm(){this.checkAllFlightsSelected()&&this.selectedForwardFlightInfo&&this.store.dispatch(h.j.AddSelectedFlight({twoWays:this.isTwoWays,forwardFlight:{...this.selectedForwardFlightInfo,seats:{total:this.selectedForwardFlightInfo.seats.total,avaible:this.selectedForwardFlightInfo.seats.avaible,avaibleArr:this.generateFreePlaces(this.selectedForwardFlightInfo.seats)}},backFlight:this.isTwoWays&&this.selectedBackFlightInfo?{...this.selectedBackFlightInfo,seats:{total:this.selectedBackFlightInfo.seats.total,avaible:this.selectedBackFlightInfo.seats.avaible,avaibleArr:this.generateFreePlaces(this.selectedBackFlightInfo.seats)}}:void 0})),this.store.dispatch(h.j.OnPassengersSubPage())}generateFreePlaces(e){const i=Math.floor(e.total/f),a=E.slice(0,f),r=new Array(i).fill(!1),g=[],P=e.total/f>Math.floor(e.total/f),u=e.total-Math.floor(e.total/f)*f;let w=0;r.forEach((m,_,A)=>A[_]=new Array(f).fill(!1));for(let m=0;m<i;m++)for(let _=0;_<f;_++)g.push(m+1+a[_]);if(P){r.push(new Array(u).fill(!1));for(let m=0;m<u;m++)g.push(i+1+a[m])}const v=g.slice(0);for(;w<e.avaible;){const m=v[this.getRandomInd(v.length,0)],_=g.indexOf(m),A=Math.floor(_/f),Ie=_-Math.floor(_/f)*f;r[A][Ie]=g[_],v.splice(v.indexOf(m),1),w++}return r}getRandomInd(e,i){return Math.floor(Math.random()*e)+i}backToMainPage(){this.router.navigate(["/main"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.yh),t.Y36(T.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-flights"]],decls:3,vars:2,consts:[["class","flight-page-container",4,"ngIf","ngIfElse"],["class","flex item-center"],["noFlight",""],[1,"flight-page-container"],[3,"isBackFlight","flightInfo"],[3,"isBackFlight","flightInfo",4,"ngIf"],[1,"flex","w-full","justify-end","button-container"],[1,"flex","gap-2"],["type","button","mat-button","","color","primary",1,"button",3,"click"],["mat-raised-button","","color","primary",1,"button",3,"disabled","click"],[1,"warning-message","ticket-secondary","f-w-700"],[1,"flex","w-full","justify-center","button-container"]],template:function(e,i){if(1&e&&(t.YNc(0,ht,9,4,"div",0),t.YNc(1,mt,6,0,"ng-template",1,2,t.W1O)),2&e){const a=t.MAs(2);t.Q6J("ngIf",i.forwardFlightInfo)("ngIfElse",a)}},dependencies:[s.O5,M.lW,dt],styles:[".flight-page-container[_ngcontent-%COMP%]{margin-bottom:20px}.warning-message[_ngcontent-%COMP%]{margin-bottom:30px;display:block;text-align:center}"]}),n})();var l=c(4006),D=c(4578),Ct=c(2426),xt=c(7423),Pt=c(7838),J=c(4144),C=c(9549),bt=c(4385),Ot=c(3238);function wt(n,o){if(1&n&&(t.TgZ(0,"div")(1,"mat-option",11),t._uU(2),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.value),t.xp6(1),t.hij("",e.name+" ("+e.value+")"," ")}}function Mt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required field "),t.qZA())}function vt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Phone is not valid "),t.qZA())}function yt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required field "),t.qZA())}function Tt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required field "),t.qZA())}function Ft(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Enter correct email "),t.qZA())}let Zt=(()=>{class n{constructor(){this.countryCode=Pt.N}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-contact-details-form"]],inputs:{details:"details"},decls:23,vars:10,consts:[[3,"formGroup"],[1,"flex","justify-between","passengers-content-position"],["appearance","fill",1,"input-code","all-passengers-input-width"],[3,"formControl"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"input-tel","all-passengers-input-width"],["type","tel","matInput","","placeholder","Ex. 555-555-1234",3,"formControl"],["matSuffix",""],[1,"input-email","all-passengers-input-width"],["type","email","matInput","","placeholder","Ex. pat@example.com",3,"formControl"],[3,"value"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"mat-form-field",2)(4,"mat-label"),t._uU(5,"Country code"),t.qZA(),t.TgZ(6,"mat-select",3),t.YNc(7,wt,3,2,"div",4),t.qZA(),t.YNc(8,Mt,2,0,"mat-error",5),t.qZA(),t.TgZ(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"Telephone"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,vt,2,0,"mat-error",5),t.YNc(14,yt,2,0,"mat-error",5),t.TgZ(15,"mat-icon",8),t._uU(16,"mode_edit"),t.qZA()(),t.TgZ(17,"mat-form-field",9)(18,"mat-label"),t._uU(19,"Email"),t.qZA(),t._UZ(20,"input",10),t.YNc(21,Tt,2,0,"mat-error",5),t.YNc(22,Ft,2,0,"mat-error",5),t.qZA()()()()),2&e&&(t.Q6J("formGroup",i.details),t.xp6(6),t.Q6J("formControl",i.details.controls.countryCode),t.xp6(1),t.Q6J("ngForOf",i.countryCode),t.xp6(1),t.Q6J("ngIf",i.details.controls.countryCode.hasError("required")),t.xp6(4),t.Q6J("formControl",i.details.controls.phone),t.xp6(1),t.Q6J("ngIf",i.details.controls.phone.hasError("validPhone")&&!i.details.controls.phone.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.details.controls.phone.hasError("required")),t.xp6(6),t.Q6J("formControl",i.details.controls.email),t.xp6(1),t.Q6J("ngIf",i.details.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.details.controls.email.hasError("email")))},dependencies:[s.sg,s.O5,p.a8,p.dn,Z.Hw,J.Nt,C.KE,C.hX,C.TO,C.R9,bt.gD,Ot.ey,l.Fj,l.JJ,l.JL,l.oH,l.sg],styles:[".input-code[_ngcontent-%COMP%], .input-tel[_ngcontent-%COMP%]{width:25%}.input-email[_ngcontent-%COMP%]{width:40%}.mat-mdc-card-content[_ngcontent-%COMP%]{padding-bottom:0!important;padding-top:23px!important}@media screen and (max-width: 992px){.passengers-content-position[_ngcontent-%COMP%]{flex-direction:column}.all-passengers-input-width[_ngcontent-%COMP%]{width:100%}}"]}),n})();var y=c(6257),N=c(266),B=c(811),k=c(9602),It=c(455),x=c(7340);let kt=(()=>{class n{constructor(){this.count=0,this.stateIncrease=!0,this.stateDecrease=!0}ngOnInit(){null!==this.baggageControl.value&&(this.count=this.baggageControl.value)}increasePassengersCount(){this.count++,this.setBaggageFormValue(),this.increaseAnimation()}decreasePassengersCount(){this.count>0&&this.count--,this.setBaggageFormValue(),this.decreaseAnimation()}setBaggageFormValue(){this.baggageControl.setValue(this.count)}increaseAnimation(){this.stateIncrease=!this.stateIncrease}decreaseAnimation(){this.stateDecrease=!this.stateDecrease}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-baggage"]],inputs:{baggageControl:"baggageControl",baggageName:"baggageName"},decls:9,vars:4,consts:[[1,"controls"],[1,"controls__decrease",3,"click"],[1,"controls__count"],[1,"controls__increase",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return i.decreasePassengersCount()}),t._uU(2,"\u2014"),t.qZA(),t.TgZ(3,"span",2),t._uU(4),t.qZA(),t.TgZ(5,"span",3),t.NdJ("click",function(){return i.increasePassengersCount()}),t._uU(6,"+"),t.qZA()(),t.TgZ(7,"mat-card-subtitle"),t._uU(8),t.qZA()),2&e&&(t.xp6(1),t.Q6J("@increaseSymbol",i.stateDecrease),t.xp6(3),t.Oqu(i.count),t.xp6(1),t.Q6J("@increaseSymbol",i.stateIncrease),t.xp6(3),t.Oqu(i.baggageName))},dependencies:[p.$j],styles:["[_nghost-%COMP%]{display:flex;gap:.25rem;justify-content:center;align-items:center}.controls[_ngcontent-%COMP%]{display:flex;gap:.5rem}.controls[_ngcontent-%COMP%]   .controls__decrease[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .controls__count[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .controls__increase[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:24px;height:24px;font-family:Roboto;font-style:normal;font-weight:400;font-size:14px;line-height:16px;text-align:center;vertical-align:middle;-webkit-user-select:none;user-select:none}.controls[_ngcontent-%COMP%]   .controls__count[_ngcontent-%COMP%]{font-size:24px}.controls[_ngcontent-%COMP%]   .controls__decrease[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%]   .controls__increase[_ngcontent-%COMP%]{font-size:30px;color:#49454f}.controls[_ngcontent-%COMP%]   .controls__decrease[_ngcontent-%COMP%]:hover, .controls[_ngcontent-%COMP%]   .controls__increase[_ngcontent-%COMP%]:hover{cursor:pointer;color:#000}"],data:{animation:[(0,x.X$)("increaseSymbol",[(0,x.SB)("*",(0,x.oB)("*")),(0,x.eR)("* <=> *",(0,x.jt)("0.3s",(0,x.F4)([(0,x.oB)({transform:"scale(1)",offset:0}),(0,x.oB)({transform:"scale(1.3)",offset:.5}),(0,x.oB)({transform:"scale(1)",offset:1})])))])]}}),n})();var O=c(5412);function At(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5),t.NdJ("click",function(){const r=t.CHM(e).$implicit,g=t.oxw(2);return t.KtG(g.onCellClick(r))}),t.ALo(2,"json"),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw().index,r=t.oxw();t.xp6(1),t.ekj("cell-disabled",!r.isPlaceAvailable(a,i))("cell-selected",r.selectedPlace===e),t.Q6J("matTooltip",!1===e?"unavailable":t.lcZ(2,5,e))}}function Ut(n,o){if(1&n&&(t.ynx(0),t.YNc(1,At,3,7,"ng-container",2),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}let St=(()=>{class n{constructor(e,i,a){this.dialogRef=e,this.data=i,this.store=a,this.selectedPlace=null,this.flight$=this.store.select(d.g.flightsSelector),this.getAvailableSeats()}getAvailableSeats(){this.flightSub=this.flight$.subscribe(e=>{if(e){const i=e.forwardFlight.seats.avaibleArr;i&&(this.places=i)}})}isPlaceAvailable(e,i){return"string"==typeof this.places[e][i]}onCellClick(e){if("string"!=typeof e)return;const[i,a]=this.findPlaceCoordinates(e);this.isPlaceAvailable(i,a)&&(this.selectedPlace=e,this.selectedIndex={i,j:a})}onClose(){this.dialogRef.close()}onSelect(){this.dialogRef.close({place:this.selectedPlace,seatIndex:this.selectedIndex})}findPlaceCoordinates(e){for(let i=0;i<this.places.length;i++)for(let a=0;a<this.places[i].length;a++)if("string"==typeof this.places[i][a]&&this.places[i][a]===e)return[i,a];return[-1,-1]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.so),t.Y36(O.WI),t.Y36(b.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-place-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"grid"],[4,"ngFor","ngForOf"],["mat-button","",3,"click"],["mat-button","","color","primary",3,"disabled","click"],[1,"cell",3,"matTooltip","click"]],template:function(e,i){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Choose a sit"),t.qZA(),t.TgZ(2,"mat-dialog-content")(3,"div",1),t.YNc(4,Ut,2,1,"ng-container",2),t.qZA()(),t.TgZ(5,"mat-dialog-actions")(6,"button",3),t.NdJ("click",function(){return i.onClose()}),t._uU(7,"Close"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return i.onSelect()}),t._uU(9," Choose "),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngForOf",i.places),t.xp6(4),t.Q6J("disabled",!i.selectedPlace))},dependencies:[s.sg,N.gM,M.lW,O.uh,O.xY,O.H8,s.Ts],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,1fr);grid-gap:4px;flex-wrap:nowrap;overflow-y:auto}.cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:14px;width:14px;border:1px solid #ccc;cursor:pointer}.cell-disabled[_ngcontent-%COMP%]{background-color:#eee;cursor:not-allowed}.cell-selected[_ngcontent-%COMP%]{background-color:#add8e6}"]}),n})();function qt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"choose a sit"),t.qZA())}let Dt=(()=>{class n{constructor(e){this.dialog=e,this.selectedPlaceControl=new l.NI}openDialog(){this.dialog.open(St,{data:{selectedPlace:this.selectedPlaceControl.value}}).afterClosed().subscribe(i=>{i&&i.place&&(this.seat=i.place,this.seatFC.setValue(i.place))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-seats-button"]],inputs:{seatFC:"seatFC"},decls:3,vars:2,consts:[["mat-raised-button","","type","button","color","primary",3,"click"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"button",0),t.NdJ("click",function(){return i.openDialog()}),t._uU(1),t.qZA(),t.YNc(2,qt,2,0,"mat-error",1)),2&e&&(t.xp6(1),t.hij(" ",i.seat?"Your sit is "+i.seat:"Choose seat","\n"),t.xp6(1),t.Q6J("ngIf",i.seatFC.hasError("required")))},dependencies:[s.O5,C.TO,M.lW]}),n})();function Jt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Name must not contain numbers "),t.qZA())}function Nt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required field "),t.qZA())}function Bt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Min length 3 characters "),t.qZA())}function Qt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Name must not contain numbers "),t.qZA())}function Lt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required field "),t.qZA())}function Yt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Min length 3 characters "),t.qZA())}function Et(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Date cannot be in the future "),t.qZA())}function Rt(n,o){if(1&n&&(t.TgZ(0,"div",13),t._UZ(1,"app-seats-button",14),t.TgZ(2,"mat-slide-toggle",15)(3,"div",16)(4,"mat-icon"),t._uU(5,"wheelchair_pickup"),t.qZA(),t.TgZ(6,"mat-card-subtitle",17),t._uU(7," Need special assistance? "),t.qZA()()(),t._UZ(8,"app-baggage",18)(9,"app-baggage",19),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("seatFC",e.card.controls.seat),t.xp6(1),t.Q6J("formControl",e.card.controls.invalid),t.xp6(6),t.Q6J("baggageControl",e.card.controls.baggageBig),t.xp6(1),t.Q6J("baggageControl",e.card.controls.baggageSmall)}}let jt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-passenger-card"]],inputs:{name:"name",accessible:"accessible",card:"card"},decls:34,vars:15,consts:[[1,"flex","gap-2","passengers-content-position",3,"formGroup"],[1,"flex","input-width","all-passengers-input-width"],["matInput","","type","text",3,"formControl"],[4,"ngIf"],["matSuffix","","matTooltipPosition","after","matTooltip","Add the passenger's name as it is written on their documents (passport or ID). Do not use any accents or special characters. Do not use a nickname. "],[1,"button-toggle-container","input-width","all-passengers-input-width","button-toggle-group",3,"formControl"],["value","male"],["value","female"],["appearance","fill",1,"input-width","all-passengers-input-width"],["matInput","","placeholder","MM/DD/YYYY",3,"matDatepicker","formControl"],["matIconSuffix","",3,"for"],["picker",""],["class","flex gap-2 item-center width600",4,"ngIf"],[1,"flex","gap-2","item-center","width600"],[3,"seatFC"],["color","primary",1,"flex",3,"formControl"],[1,"flex","justify-center","item-center"],[1,"m-auto"],["baggageName","Extra baggage(23kg)",3,"baggageControl"],["baggageName","cabin bag(8kg)",3,"baggageControl"]],template:function(e,i){if(1&e&&(t.TgZ(0,"mat-card-content")(1,"div",0)(2,"mat-form-field",1)(3,"mat-label"),t._uU(4,"First name"),t.qZA(),t._UZ(5,"input",2),t.YNc(6,Jt,2,0,"mat-error",3),t.YNc(7,Nt,2,0,"mat-error",3),t.YNc(8,Bt,2,0,"mat-error",3),t.TgZ(9,"mat-icon",4),t._uU(10,"info "),t.qZA()(),t.TgZ(11,"mat-form-field",1)(12,"mat-label"),t._uU(13,"Last name"),t.qZA(),t._UZ(14,"input",2),t.YNc(15,Qt,2,0,"mat-error",3),t.YNc(16,Lt,2,0,"mat-error",3),t.YNc(17,Yt,2,0,"mat-error",3),t.TgZ(18,"mat-icon",4),t._uU(19,"info "),t.qZA()(),t.TgZ(20,"mat-button-toggle-group",5)(21,"mat-button-toggle",6),t._uU(22," Male"),t.qZA(),t.TgZ(23,"mat-button-toggle",7),t._uU(24,"Female"),t.qZA()(),t.TgZ(25,"mat-form-field",8)(26,"mat-label"),t._uU(27,"Date of birth"),t.qZA(),t._UZ(28,"input",9)(29,"mat-datepicker-toggle",10)(30,"mat-datepicker",null,11),t.YNc(32,Et,2,0,"mat-error",3),t.qZA()(),t.YNc(33,Rt,10,4,"div",12),t.qZA()),2&e){const a=t.MAs(31);t.xp6(1),t.Q6J("formGroup",i.card),t.xp6(4),t.Q6J("formControl",i.card.controls.firstName),t.xp6(1),t.Q6J("ngIf",i.card.controls.firstName.hasError("validName")),t.xp6(1),t.Q6J("ngIf",i.card.controls.firstName.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.card.controls.firstName.hasError("minlength")&&!i.card.controls.firstName.hasError("validName")),t.xp6(6),t.Q6J("formControl",i.card.controls.lastName),t.xp6(1),t.Q6J("ngIf",i.card.controls.lastName.hasError("validName")),t.xp6(1),t.Q6J("ngIf",i.card.controls.lastName.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.card.controls.lastName.hasError("minlength")&&!i.card.controls.lastName.hasError("validName")),t.xp6(3),t.Q6J("formControl",i.card.controls.gender),t.xp6(8),t.Q6J("matDatepicker",a)("formControl",i.card.controls.birthdayDate),t.xp6(1),t.Q6J("for",a),t.xp6(3),t.Q6J("ngIf",i.card.controls.birthdayDate.hasError("futureDate")),t.xp6(1),t.Q6J("ngIf",i.accessible)}},dependencies:[s.O5,p.dn,p.$j,Z.Hw,J.Nt,C.KE,C.hX,C.TO,C.R9,N.gM,B.A9,B.Yi,k.Mq,k.hl,k.nW,It.Rr,l.Fj,l.JJ,l.JL,l.oH,l.sg,kt,Dt],styles:['.mat-button-toggle-group[_ngcontent-%COMP%]{height:3.5rem}.mat-button-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50%!important}.mat-button-toggle-checked[_ngcontent-%COMP%]{font-weight:500;color:#11397e}.mat-button-toggle-checked[_ngcontent-%COMP%]:before{display:inline-block;width:5px;height:8px;margin:-4px -9% 1px 10%;border:solid #11397e;border-width:0 3px 3px 0;transform:rotate(45deg);content:""}.input-width[_ngcontent-%COMP%]{width:24%}width600[_ngcontent-%COMP%]{flex-direction:row}@media screen and (max-width: 992px){.width600[_ngcontent-%COMP%], .passengers-content-position[_ngcontent-%COMP%]{flex-direction:column}.all-passengers-input-width[_ngcontent-%COMP%]{width:100%}.button-toggle-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}}']}),n})();function $t(n,o){if(1&n&&(t._uU(0),t.ALo(1,"titlecase")),2&n){const e=t.oxw(2);t.Oqu(t.lcZ(1,1,e.name))}}function zt(n,o){1&n&&(t.TgZ(0,"button",7),t._uU(1," Prev "),t.qZA())}function Wt(n,o){1&n&&(t.TgZ(0,"button",8),t._uU(1," Next "),t.qZA())}function Ht(n,o){if(1&n&&(t.TgZ(0,"mat-step"),t.YNc(1,$t,2,3,"ng-template",3),t._UZ(2,"app-passenger-card",4),t.TgZ(3,"div"),t.YNc(4,zt,2,0,"button",5),t.YNc(5,Wt,2,0,"button",6),t.qZA()()),2&n){const e=o.$implicit,i=o.index,a=t.oxw();t.xp6(2),t.Q6J("name",a.name)("accessible",a.accessible)("card",e),t.xp6(2),t.Q6J("ngIf",i>0),t.xp6(1),t.Q6J("ngIf",i<a.form.controls.length-1)}}let Gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-all-passengers-card"]],inputs:{name:"name",accessible:"accessible",form:"form",allForm:"allForm"},decls:3,vars:3,consts:[[3,"formGroup"],[3,"formArrayName"],[4,"ngFor","ngForOf"],["matStepLabel",""],[1,"w-full",3,"name","accessible","card"],["mat-button","","type","button","color","warn","matStepperPrevious","",4,"ngIf"],["mat-button","","type","button","color","primary","matStepperNext","",4,"ngIf"],["mat-button","","type","button","color","warn","matStepperPrevious",""],["mat-button","","type","button","color","primary","matStepperNext",""]],template:function(e,i){1&e&&(t.TgZ(0,"mat-stepper",0)(1,"div",1),t.YNc(2,Ht,6,5,"mat-step",2),t.qZA()()),2&e&&(t.Q6J("formGroup",i.allForm),t.xp6(1),t.Q6J("formArrayName",i.name),t.xp6(1),t.Q6J("ngForOf",i.form.controls))},dependencies:[s.sg,s.O5,l.JL,l.sg,l.CE,M.lW,y.C0,y.VY,y.Vq,y.Ic,y.fd,jt,s.rS],styles:[".card-container[_ngcontent-%COMP%]{position:relative;width:100%}.all-card-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;min-width:100%}"]}),n})();function Xt(n,o){if(1&n&&t._UZ(0,"app-all-passengers-card",15),2&n){const e=t.oxw();t.Q6J("accessible",!0)("form",e.adult)("allForm",e.allForm)}}function Vt(n,o){if(1&n&&t._UZ(0,"app-all-passengers-card",16),2&n){const e=t.oxw();t.Q6J("accessible",!0)("form",e.child)("allForm",e.allForm)}}function Kt(n,o){if(1&n&&t._UZ(0,"app-all-passengers-card",17),2&n){const e=t.oxw();t.Q6J("accessible",!1)("form",e.infant)("allForm",e.allForm)}}let te=(()=>{class n{constructor(e,i,a){this.fb=e,this.store=i,this.dateTypeService=a,this.passengersCount$=this.store.select(d.g.passengersCount),this.passengersCountSub=this.passengersCount$.subscribe(r=>{null!==r&&(this.passengersCount=r)}),this.passengersInfo$=this.store.select(d.g.passengersInfoSelector),this.passengersInfoSub=this.passengersInfo$.subscribe(r=>{this.passengersInfo=r}),this.dateType$=this.store.select(F.u.DateTypeSelector),this.dateTypeSubscription=this.dateType$.subscribe(r=>{this.dateTypeService.changeDateType(r)})}ngOnInit(){const{countryCode:e,phone:i,email:a}=this.getDetails();this.passengersForm=this.fb.group({adult:this.fb.array([]),child:this.fb.array([]),infant:this.fb.array([]),details:this.fb.group({countryCode:new l.NI(e,[l.kI.required]),phone:new l.NI(i,[l.kI.required,(0,Ct.Z)()]),email:new l.NI(a,[l.kI.required,l.kI.email])})}),this.addPersonToForm(this.adult,this.passengersCount.adults,this.passengersInfo?this.passengersInfo.adult:""),this.addPersonToForm(this.child,this.passengersCount.children,this.passengersInfo?this.passengersInfo.child:""),this.addPersonToForm(this.infant,this.passengersCount.infants,this.passengersInfo?this.passengersInfo.infant:"")}ngOnDestroy(){this.passengersCountSub.unsubscribe(),this.passengersInfoSub.unsubscribe(),this.dateTypeSubscription.unsubscribe()}addPersonToForm(e,i,a){for(let r=0;r<i;r++){a&&a.length>0&&(i=a.length);const g=this.fb.group({firstName:[a?a[r].firstName:"",[l.kI.required,l.kI.minLength(3),(0,D.Z)()]],lastName:[a?a[r].lastName:"",[l.kI.required,l.kI.minLength(3),(0,D.Z)()]],gender:[a?a[r].gender:"",[l.kI.required]],birthdayDate:[a?a[r].birthdayDate:"",[l.kI.required,n=>{const o=new Date;return new Date(n.value)<o?null:{futureDate:!0}}]],invalid:a?a[r].invalid:"",baggageBig:a?a[r].baggageBig:0,baggageSmall:a?a[r].baggageSmall:0,seat:[a?a[r].seat:"",[l.kI.required]]});e.push(g)}}getDetails(){return{countryCode:this.passengersInfo?this.passengersInfo.details.countryCode:null,phone:this.passengersInfo?this.passengersInfo.details.phone:null,email:this.passengersInfo?this.passengersInfo.details.email:null}}get adult(){return this.passengersForm.controls.adult}get child(){return this.passengersForm.controls.child}get infant(){return this.passengersForm.controls.infant}get details(){return this.passengersForm.controls.details}get allForm(){return this.passengersForm}goToNextPage(){this.passengersForm.valid&&(this.store.dispatch(h.j.AddPassengersInformation(this.passengersForm.value)),this.store.dispatch(h.j.OnReviewSubPage()))}backToFlight(){this.store.dispatch(h.j.OnFlightSubPage())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(l.qu),t.Y36(b.yh),t.Y36(xt.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-passengers"]],decls:21,vars:5,consts:[[1,"w-full","flex","flex-column","gap-2",3,"formGroup","ngSubmit"],[1,"flex","flex-column","gap-1"],[1,"flex-column","flex","item-start"],["icon","groups","logo","Passenger"],["name","adult",3,"accessible","form","allForm",4,"ngIf"],["name","child","class","w-full",3,"accessible","form","allForm",4,"ngIf"],["name","infant","class","w-full",3,"accessible","form","allForm",4,"ngIf"],[1,"flex","flex-column","gap-1","w-full"],[1,"flex-column","flex","item-start","w-full"],["icon","contact_page","logo","Contact details"],[1,"w-full",3,"details"],[1,"flex","w-full","justify-end","button-container"],[1,"flex","gap-2"],["type","button","mat-button","","color","primary",1,"button",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"button"],["name","adult",3,"accessible","form","allForm"],["name","child",1,"w-full",3,"accessible","form","allForm"],["name","infant",1,"w-full",3,"accessible","form","allForm"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.goToNextPage()}),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"app-icon-label",3),t.TgZ(4,"mat-card-subtitle"),t._uU(5," Enter the passenger's names as they appear on document (passport or ID). "),t.qZA()(),t.YNc(6,Xt,1,3,"app-all-passengers-card",4),t.YNc(7,Vt,1,3,"app-all-passengers-card",5),t.YNc(8,Kt,1,3,"app-all-passengers-card",6),t.qZA(),t.TgZ(9,"div",7)(10,"div",8),t._UZ(11,"app-icon-label",9),t.TgZ(12,"mat-card-subtitle"),t._uU(13," We need contact details to be able to deliver the latest information regarding your flight. "),t.qZA()(),t._UZ(14,"app-contact-details-form",10),t.qZA(),t.TgZ(15,"div",11)(16,"div",12)(17,"button",13),t.NdJ("click",function(){return i.backToFlight()}),t._uU(18," Back "),t.qZA(),t.TgZ(19,"button",14),t._uU(20," Continue "),t.qZA()()()()),2&e&&(t.Q6J("formGroup",i.passengersForm),t.xp6(6),t.Q6J("ngIf",i.adult.controls.length>0),t.xp6(1),t.Q6J("ngIf",i.child.controls.length>0),t.xp6(1),t.Q6J("ngIf",i.infant.controls.length>0),t.xp6(6),t.Q6J("details",i.details))},dependencies:[s.O5,I,p.$j,l._Y,l.JL,l.sg,M.lW,Zt,Gt],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:start;gap:2rem}.button[_ngcontent-%COMP%]{width:126px;height:60px}.button-container[_ngcontent-%COMP%]{margin-bottom:2rem;margin-top:2rem}"],changeDetection:0}),n})();var ee=c(8957);let oe=(()=>{class n{constructor(e,i){this.render2=e,this.elRef=i,this.setAllStyles()}setAllStyles(){this.setStyle("background-color","#F1F3F6"),this.setStyle("box-shadow","0px -3px 0px #11397e"),this.setStyle("border-top-left-radius","5px"),this.setStyle("border-top-right-radius","5px")}setStyle(e,i){this.render2.setStyle(this.elRef.nativeElement,`${e}`,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","appBgOrder",""]]}),n})();var Q=c(4850);function ae(n,o){1&n&&(t.TgZ(0,"li"),t._uU(1," Without extra baggage "),t.qZA())}function se(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.baggageBig," checked bag (total 23 kg) included ")}}function re(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.baggageSmall," cabin bag + ",e.baggageSmall," personal item (max. 8 kg) included ")}}function ce(n,o){if(1&n&&(t.YNc(0,se,2,1,"li",5),t.YNc(1,re,2,2,"li",5)),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",e.baggageBig>0),t.xp6(1),t.Q6J("ngIf",e.baggageSmall>0)}}function le(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-card-content",1)(2,"div",2)(3,"p"),t._uU(4),t.ALo(5,"uppercase"),t.ALo(6,"uppercase"),t.qZA(),t.TgZ(7,"ul"),t.YNc(8,ae,2,0,"li",3),t.YNc(9,ce,2,2,"ng-template",null,4,t.W1O),t.TgZ(11,"li"),t._uU(12),t.qZA()()()(),t._UZ(13,"mat-divider"),t.BQk()),2&n){const e=o.$implicit,i=t.MAs(10);t.xp6(4),t.AsE(" ",t.lcZ(5,5,e.firstName)," ",t.lcZ(6,7,e.lastName)," "),t.xp6(4),t.Q6J("ngIf",0===e.baggageBig&&0===e.baggageSmall)("ngIfElse",i),t.xp6(4),t.hij("Seat No. ",e.seat,"")}}let ge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-one-passenger-review"]],inputs:{passengers:"passengers"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"w-full"],[1,"passenger"],[4,"ngIf","ngIfElse"],["withBaggage",""],[4,"ngIf"]],template:function(e,i){1&e&&t.YNc(0,le,14,9,"ng-container",0),2&e&&t.Q6J("ngForOf",i.passengers)},dependencies:[s.sg,s.O5,Q.d,p.dn,s.gd],styles:["li[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]{padding:0 1.25rem}.passenger[_ngcontent-%COMP%]{padding:1rem 0 0 1rem;line-height:24px;font-size:16px}.mat-mdc-card-content[_ngcontent-%COMP%]{padding-top:0}"]}),n})();function pe(n,o){if(1&n&&(t.TgZ(0,"mat-card",1)(1,"mat-card-header",2)(2,"div",3)(3,"mat-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"mat-card-subtitle",4),t._uU(6),t.qZA()(),t.TgZ(7,"div",3)(8,"mat-card-subtitle",5),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"mat-card-subtitle",5),t._uU(12),t.ALo(13,"date"),t.ALo(14,"date"),t.qZA()()(),t._UZ(15,"app-one-passenger-review",6)(16,"app-one-passenger-review",6)(17,"app-one-passenger-review",6),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.data.flightNumber),t.xp6(2),t.AsE("",e.data.form.city,"-",e.data.to.city,""),t.xp6(3),t.Oqu(t.xi3(10,9,e.data.takeoffDate,"fullDate")),t.xp6(3),t.AsE("",t.xi3(13,12,e.data.takeoffDate,"h:mm")," -- ",t.xi3(14,15,e.data.landingDate,"h:mm"),""),t.xp6(3),t.Q6J("passengers",e.passengers.adult),t.xp6(1),t.Q6J("passengers",e.passengers.child),t.xp6(1),t.Q6J("passengers",e.passengers.infant)}}let de=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-order"]],inputs:{data:"data",passengers:"passengers"},decls:1,vars:1,consts:[["class","w-full",4,"ngIf"],[1,"w-full"],["appBgOrder","",1,"column","gap-half"],[1,"flex","gap-1","item-center"],[1,"route-text"],[1,"route-date"],[3,"passengers"]],template:function(e,i){1&e&&t.YNc(0,pe,18,18,"mat-card",0),2&e&&t.Q6J("ngIf",i.data&&i.passengers)},dependencies:[s.O5,p.a8,p.dk,p.$j,p.n5,oe,ge,s.uU],styles:["[_nghost-%COMP%]{min-width:49%}.route-text[_ngcontent-%COMP%]{font-weight:700;font-size:20px;line-height:24px;letter-spacing:.5px;color:#000}.route-date[_ngcontent-%COMP%]{font-size:16px;color:#000;font-weight:400}@media screen and (max-width: 992px){[_nghost-%COMP%]{width:100%}}"]}),n})();var L=c(338);function fe(n,o){if(1&n&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.ALo(4,"currencyConverter"),t.qZA()(),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"currencyConverter"),t.qZA(),t.TgZ(8,"p"),t._uU(9),t.ALo(10,"currencyConverter"),t.qZA()()),2&n){const e=o.ngIf,i=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,3,i.total.allPrice,e)),t.xp6(3),t.Oqu(t.xi3(7,6,i.total.fare,e)),t.xp6(3),t.Oqu(t.xi3(10,9,i.total.tax,e))}}let he=(()=>{class n{constructor(e){this.store=e,this.currency="EUR",this.currency$=this.store.select(F.u.CurrencySelector)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-prise"]],inputs:{total:"total"},decls:12,vars:7,consts:[[1,"padding-left"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.ALo(4,"titlecase"),t.qZA()(),t.TgZ(5,"div",0)(6,"p"),t._uU(7,"Fare"),t.qZA(),t.TgZ(8,"p"),t._uU(9,"Tax & Service Changes"),t.qZA()()(),t.YNc(10,fe,11,12,"div",1),t.ALo(11,"async")),2&e&&(t.xp6(3),t.AsE("",i.total.count," x ",t.lcZ(4,3,i.total.name)," Fare"),t.xp6(7),t.Q6J("ngIf",t.lcZ(11,5,i.currency$)))},dependencies:[s.O5,s.Ov,s.rS,L.P],styles:["[_nghost-%COMP%]{display:flex;justify-content:space-between;font-size:16px;line-height:24px;font-weight:400}.padding-left[_ngcontent-%COMP%]{padding-left:1rem}p[_ngcontent-%COMP%]{margin:0 0 4px}"]}),n})();function me(n,o){if(1&n&&(t.TgZ(0,"p",7),t._uU(1),t.ALo(2,"currencyConverter"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,i.total.totalPrice,e)," ")}}let ue=(()=>{class n{constructor(e){this.store=e,this.currency$=this.store.select(F.u.CurrencySelector)}ngOnInit(){this.addTotal(),this.store.dispatch(h.j.AddTotalPrice(this.total))}addTotal(){const e=this.oneManPrice(this.flight),i=e/10,a=this.addPersonTotal(e,i,"adult"),r=this.addPersonTotal(e,i,"child"),g=this.addPersonTotal(e,i,"infant"),P=[a,r,g].reduce((u,w)=>u+ +w.allPrice,0);this.total={adult:a,child:r,infant:g,totalPrice:P}}addPersonTotal(e,i,a){const r=a;let g=1;"child"===r?g=.7:"infant"===r&&(g=.2);const P=+this.passengersInfo[r].length+1,u=e*P*g,w=this.allTax(i,g,r);return{name:r,count:P,fare:u,tax:w,allPrice:u+w}}allTax(e,i,a){let P=0;return this.passengersInfo[a].forEach(u=>{P+=150*u.baggageBig+50*u.baggageSmall}),Math.round((P+e)*i)}oneManPrice(e){let i=+e.forwardFlight.price.eur;return e.backFlight&&(i*=2),i}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-total"]],inputs:{passengersInfo:"passengersInfo",flight:"flight"},decls:13,vars:6,consts:[[1,"column","item-center"],[1,"container"],[3,"total"],[1,"w-full"],[1,"flex","justify-center","total"],[1,"flex","justify-between","fz-20","container"],["class","text-primary",4,"ngIf"],[1,"text-primary"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card-content",1),t._UZ(2,"app-prise",2)(3,"app-prise",2)(4,"app-prise",2),t.qZA(),t.TgZ(5,"mat-card-footer",3),t._UZ(6,"mat-divider"),t.TgZ(7,"strong",4)(8,"div",5)(9,"p"),t._uU(10,"TOTAL:"),t.qZA(),t.YNc(11,me,3,4,"p",6),t.ALo(12,"async"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("total",i.total.adult),t.xp6(1),t.Q6J("total",i.total.child),t.xp6(1),t.Q6J("total",i.total.infant),t.xp6(7),t.Q6J("ngIf",t.lcZ(12,4,i.currency$)))},dependencies:[s.O5,Q.d,p.a8,p.dn,p.rt,he,s.Ov,L.P],styles:[".total[_ngcontent-%COMP%]{padding:1.5rem 0}"]}),n})();function _e(n,o){if(1&n&&t._UZ(0,"app-order",9),2&n){const e=t.oxw().ngIf,i=t.oxw().ngIf;t.Q6J("data",i.backFlight)("passengers",e)}}function Ce(n,o){if(1&n&&(t.TgZ(0,"div",8),t._UZ(1,"app-order",9),t.YNc(2,_e,1,2,"app-order",10),t.qZA()),2&n){const e=o.ngIf,i=t.oxw().ngIf;t.xp6(1),t.Q6J("data",i.forwardFlight)("passengers",e),t.xp6(1),t.Q6J("ngIf",i.backFlight)}}function xe(n,o){if(1&n&&(t.TgZ(0,"div",11),t._UZ(1,"app-total",12),t.qZA()),2&n){const e=o.ngIf,i=t.oxw().ngIf;t.xp6(1),t.Q6J("passengersInfo",e)("flight",i)}}function Pe(n,o){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"app-icon-label",1),t.YNc(2,Ce,3,3,"div",2),t.ALo(3,"async"),t.YNc(4,xe,2,2,"div",3),t.ALo(5,"async"),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.backToPassengers())}),t._uU(8," Back "),t.qZA(),t.TgZ(9,"button",6),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToMainPage())}),t._uU(10," Add to order cart "),t.qZA(),t.TgZ(11,"button",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.goToShoping())}),t._uU(12," Buy now "),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",t.lcZ(3,2,e.passengersInfo$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(5,4,e.passengersInfo$))}}let be=(()=>{class n{constructor(e,i){this.store=e,this.router=i,this.flight$=this.store.select(d.g.flightsSelector),this.passengersInfo$=this.store.select(d.g.passengersInfoSelector),this.allInfo$=this.store.select(d.g.allInformationSelector),this.allInfoSub=this.allInfo$.subscribe(a=>this.allInfo=a)}ngOnDestroy(){this.allInfoSub.unsubscribe()}backToPassengers(){this.store.dispatch(h.j.OnPassengersSubPage())}goToMainPage(){this.addAllInfoToStore(),this.router.navigate(["main"])}goToShoping(){this.addAllInfoToStore(),this.router.navigate(["shopping-card"])}addAllInfoToStore(){const e={...this.allInfo,isChecked:!0};this.store.dispatch(ee.W.AddFlight(e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.yh),t.Y36(T.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-review"]],decls:2,vars:3,consts:[[4,"ngIf"],["icon","preview","logo","Summary"],["class","people-description-container w-full",4,"ngIf"],["class","sum-container",4,"ngIf"],[1,"self-end","flex","button-container"],["color","primary","mat-button","",1,"button",3,"click"],["color","primary","mat-stroked-button","",1,"button",3,"click"],["color","primary","mat-raised-button","",1,"button",3,"click"],[1,"people-description-container","w-full"],[3,"data","passengers"],[3,"data","passengers",4,"ngIf"],[1,"sum-container"],[3,"passengersInfo","flight"]],template:function(e,i){1&e&&(t.YNc(0,Pe,13,6,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.flight$))},dependencies:[s.O5,I,M.lW,de,ue,s.Ov],styles:["[_nghost-%COMP%]{display:flex;width:100%;justify-content:start;flex-direction:column;align-items:start;gap:2rem;margin-bottom:2rem}.people-description-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.sum-container[_ngcontent-%COMP%]{width:49%;align-self:end}.mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.button-container[_ngcontent-%COMP%]{gap:2.5rem}.button[_ngcontent-%COMP%]{min-width:126px;height:60px}p[_ngcontent-%COMP%]{margin-bottom:0}@media screen and (max-width: 992px){[_nghost-%COMP%]{width:100%}.people-description-container[_ngcontent-%COMP%]{flex-direction:column}.sum-container[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 550px){.button-container[_ngcontent-%COMP%]{gap:1rem;flex-direction:column;width:100%}.button[_ngcontent-%COMP%]{width:100%}}"]}),n})();function Oe(n,o){1&n&&t._UZ(0,"app-flights")}function we(n,o){1&n&&t._UZ(0,"app-passengers")}function Me(n,o){1&n&&t._UZ(0,"app-review")}function ve(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Oe,1,0,"app-flights",0),t.YNc(2,we,1,0,"app-passengers",0),t.YNc(3,Me,1,0,"app-review",0),t.BQk()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngIf","flight"===e),t.xp6(1),t.Q6J("ngIf","passengers"===e),t.xp6(1),t.Q6J("ngIf","review"===e)}}const ye=[{path:"",component:(()=>{class n{constructor(e){this.store=e,this.step$=this.store.select(d.g.currentPageDirectionSelector)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-booking-page"]],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(e,i){1&e&&(t.YNc(0,ve,4,3,"ng-container",0),t.ALo(1,"async")),2&e&&t.Q6J("ngIf",t.lcZ(1,1,i.step$))},dependencies:[s.O5,ut,te,be,s.Ov],styles:["[_nghost-%COMP%]{width:100%}"]}),n})()}];let Te=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[T.Bz.forChild(ye),T.Bz]}),n})();var Fe=c(4466);let Ze=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[s.ez,Te,Fe.m,O.Is]}),n})()}}]);